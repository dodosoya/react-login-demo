(this["webpackJsonpreact-login-demo"]=this["webpackJsonpreact-login-demo"]||[]).push([[0],{101:function(e,a,t){e.exports=t(115)},106:function(e,a,t){},107:function(e,a,t){},115:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t.n(o),i=(t(106),t(22)),c=(t(107),t(63)),s=t(35),u=t(9),m=t(166),p=t(167),g=t(165),d=t(181),h=t(163),E=t(116),f=t(176),b=t(164),O=t(76),v=t.n(O),y=t(50),w=t(75),j={LOGIN:"LOGIN",LOGOUT:"LOGOUT",SET_LANGUAGE:"SET_LANGUAGE"},S=t(158),k=t(182),P=t(162),x=t(156),N=t(178),C=Object(w.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function D(){var e=C(),a=r.a.useRef(null),t=r.a.useState(0),n=Object(i.a)(t,2),o=n[0],l=n[1];r.a.useEffect((function(){l(a.current.offsetWidth)}),[]);var c=r.a.useContext(Oe),s=c.state,u=c.dispatch;return r.a.createElement("div",null,r.a.createElement(x.a,{variant:"outlined",className:e.formControl},r.a.createElement(k.a,{ref:a,id:"select-language-label"},r.a.createElement(S.a,{id:"app.language.name"})),r.a.createElement(N.a,{labelId:"select-language-label",id:"select-language",value:s.language,onChange:function(e){u({type:j.SET_LANGUAGE,payload:{language:e.target.value}})},labelWidth:o},r.a.createElement(P.a,{value:"en"},r.a.createElement(S.a,{id:"app.language.english"})),r.a.createElement(P.a,{value:"zh-TW"},r.a.createElement(S.a,{id:"app.language.chinese"})))))}function G(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?G(t,!0).forEach((function(a){Object(u.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function L(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var T=Object(w.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function W(){var e=T(),a=r.a.useContext(Oe).dispatch,t=r.a.useState({username:"",password:"",isSubmitting:!1,errorMessage:null}),n=Object(i.a)(t,2),o=n[0],l=n[1],c=function(e){l(I({},o,Object(u.a)({},e.target.name,e.target.value)))};return r.a.createElement(b.a,{container:!0,component:"main",className:e.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(b.a,{item:!0,xs:12,sm:8,md:5,component:E.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(m.a,{className:e.avatar},r.a.createElement(v.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h5"},r.a.createElement(S.a,{id:"app.login.name"})),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),l(I({},o,{isSubmitting:!0,errorMessage:null})),setTimeout((function(){a({type:j.LOGIN,payload:{username:o.username,token:"token123"}})}),2e3)}},r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:r.a.createElement(S.a,{id:"app.login.username"}),name:"username",autoFocus:!0,value:o.username,onChange:c}),r.a.createElement(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:r.a.createElement(S.a,{id:"app.login.password"}),type:"password",id:"password",autoComplete:"current-password",value:o.password,onChange:c}),o.errorMessage&&r.a.createElement("span",null,o.errorMessage),r.a.createElement(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:o.isSubmitting},o.isSubmitting?r.a.createElement(S.a,{id:"app.login.loading"}):r.a.createElement(S.a,{id:"app.login.name"})),r.a.createElement(D,null),r.a.createElement(f.a,{mt:5},r.a.createElement(L,null))))))}var B=t(3),A=t(180),U=t(170),z=t(171),M=t(161),R=t(174),H=t(172),Y=t(173),_=t(175),q=t(78),F=t.n(q),J=t(81),V=t.n(J),X=t(80),$=t.n(X),K=t(79),Q=t.n(K),Z=t(117),ee=t(168),ae=t(169),te=t(77),ne=t.n(te),re=r.a.createElement("div",null,r.a.createElement(Z.a,{button:!0},r.a.createElement(ee.a,null,r.a.createElement(ne.a,null)),r.a.createElement(ae.a,{primary:r.a.createElement(S.a,{id:"app.dashboard.name"})}))),oe=t(84);function le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ie(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?le(t,!0).forEach((function(a){Object(u.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function ce(){return r.a.createElement(y.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(h.a,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var se=Object(w.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:ie({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(u.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ue(){var e=se(),a=r.a.useContext(Oe).dispatch,t=r.a.useState(!0),n=Object(i.a)(t,2),o=n[0],l=n[1],c=r.a.useState(null),s=Object(i.a)(c,2),u=s[0],m=s[1],p=Object(B.a)(e.paper,e.fixedHeight),d=function(){m(null)};return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement(U.a,{position:"absolute",className:Object(B.a)(e.appBar,o&&e.appBarShift)},r.a.createElement(z.a,{className:e.toolbar},r.a.createElement(H.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(B.a)(e.menuButton,o&&e.menuButtonHidden)},r.a.createElement(F.a,null)),r.a.createElement(y.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},r.a.createElement(S.a,{id:"app.dashboard.name"})),r.a.createElement(D,null),r.a.createElement(H.a,{color:"inherit"},r.a.createElement(Y.a,{badgeContent:1,color:"secondary"},r.a.createElement(Q.a,null))),r.a.createElement(H.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},color:"inherit"},r.a.createElement($.a,null)),r.a.createElement(oe.a,{id:"menu-appbar",anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},getContentAnchorEl:null,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(u),onClose:d},r.a.createElement(P.a,{onClick:d},r.a.createElement(S.a,{id:"app.settings.name"})),r.a.createElement(R.a,null),r.a.createElement(P.a,{onClick:function(e){e.preventDefault(),a({type:j.LOGOUT})}},r.a.createElement(S.a,{id:"app.logout.name"}))))),r.a.createElement(A.a,{variant:"permanent",classes:{paper:Object(B.a)(e.drawerPaper,!o&&e.drawerPaperClose)},open:o},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(H.a,{onClick:function(){l(!1)}},r.a.createElement(V.a,null))),r.a.createElement(R.a,null),r.a.createElement(M.a,null,re),r.a.createElement(R.a,null)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(_.a,{maxWidth:"lg",className:e.container},r.a.createElement(b.a,{container:!0,spacing:3},r.a.createElement(b.a,{item:!0,xs:12,md:4,lg:3},r.a.createElement(E.a,{className:p},r.a.createElement("h1",null,r.a.createElement(S.a,{id:"app.dashboard.message"})))))),r.a.createElement(ce,null)))}function me(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function pe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?me(t,!0).forEach((function(a){Object(u.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ge=function(e,a){switch(a.type){case j.LOGIN:return localStorage.setItem("username",a.payload.username),localStorage.setItem("token",a.payload.token),pe({},e,{isAuthenticated:!0,username:a.payload.username,token:a.payload.token});case j.LOGOUT:return localStorage.clear(),pe({},e,{isAuthenticated:!1,username:null,token:null});case j.SET_LANGUAGE:return pe({},e,{language:a.payload.language});default:return e}},de=t(177),he={app:{login:{name:"\u767b\u5165",loading:"\u767b\u5165\u4e2d...",username:"\u4f7f\u7528\u8005\u540d\u7a31",password:"\u5bc6\u78bc"},logout:{name:"\u767b\u51fa"},language:{name:"\u8a9e\u8a00",chinese:"\u4e2d\u6587",english:"\u82f1\u6587"},dashboard:{name:"\u5100\u8868\u677f",message:"\u6b61\u8fce\u56de\u4f86\uff01"},settings:{name:"\u8a2d\u5b9a"}}},Ee={app:{login:{name:"Log In",loading:"Loading...",username:"User Name",password:"Password"},logout:{name:"Logout"},language:{name:"Language",chinese:"Chinese",english:"English"},dashboard:{name:"Dashboard",message:"Welcome Back!"},settings:{name:"Settings"}}},fe=t(82),be=t.n(fe),Oe=r.a.createContext(),ve={isAuthenticated:!1,username:null,token:null,language:navigator.language};var ye=function(){var e,a=r.a.useReducer(ge,ve),t=Object(i.a)(a,2),n=t[0],o=t[1];return e="zh-TW"===n.language?he:Ee,r.a.useEffect((function(){var e=localStorage.getItem("username"),a=localStorage.getItem("token");e&&a&&o({type:j.LOGIN,payload:{username:e,token:a}})}),[]),r.a.createElement(de.a,{locale:n.language,key:n.language,defaultLocale:"zh-TW",messages:be()(e)},r.a.createElement(Oe.Provider,{value:{state:n,dispatch:o}},n.isAuthenticated?r.a.createElement(c.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ue}),r.a.createElement(s.b,{path:"*",component:ue}))):r.a.createElement(c.a,null,r.a.createElement(s.b,{exact:!0,path:"/",component:W}),r.a.createElement(s.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[101,1,2]]]);
//# sourceMappingURL=main.b55f63cd.chunk.js.map